# 感測器卡片樣式統一說明

## 修改目標

將場域佈局圖中的感測器標記樣式與 dashboard 中的感測器卡片保持一致，並添加 description 欄位作為主要識別名稱。

## 主要修改

### 1. 感測器標記渲染邏輯 (`views/farm-detail.hbs`)

**修改前**：
- 使用舊版的 `sensor-display` 樣式
- 顯示感測器圖示和名稱
- 數值顯示格式不一致

**修改後**：
- 使用與 dashboard 一致的 `sensor-card` 樣式
- 優先顯示 `description` 欄位作為感測器名稱
- 數值顯示格式與 dashboard 完全一致
- 支援離線狀態顯示

### 2. CSS 樣式統一 (`public/css/style.css`)

**新增樣式**：
```css
/* 感測器卡片樣式（與 dashboard 一致） */
.sensor-card {
    background: rgba(255, 255, 255, 0.95);
    border-radius: 12px;
    padding: 12px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    border: 2px solid transparent;
    transition: all 0.3s ease;
    min-width: 120px;
    backdrop-filter: blur(10px);
}

.sensor-card.active {
    border-color: #28a745;  /* 綠色邊框表示在線 */
}

.sensor-card.inactive {
    border-color: #6c757d;  /* 灰色邊框表示離線 */
}
```

## 顯示效果

### 1. 感測器卡片外觀
- **背景**: 半透明白色背景，帶模糊效果
- **邊框**: 圓角設計，根據狀態顯示不同顏色
- **陰影**: 立體陰影效果，懸停時增強
- **尺寸**: 最小寬度 120px，自適應內容

### 2. 感測器資訊顯示
- **名稱**: 優先顯示 `description`，備用顯示 `name`
- **數值**: 綠色背景的數值顯示，包含數值和單位
- **狀態**: 離線時顯示「離線」狀態

### 3. 互動效果
- **懸停**: 卡片上移，陰影增強
- **拖動**: 支援拖動功能，游標樣式變化
- **響應**: 平滑的過渡動畫

## 與 Dashboard 的一致性

### 1. 視覺樣式
- 相同的背景、邊框、陰影效果
- 一致的顏色方案和字體大小
- 統一的圓角和間距設計

### 2. 內容結構
- 相同的 HTML 結構 (`sensor-card` > `sensor-info`)
- 一致的數值顯示格式 (`sensor-value-inline`)
- 統一的狀態顯示邏輯

### 3. 互動行為
- 相同的懸停效果
- 一致的動畫過渡
- 統一的響應式設計

## 使用方式

### 1. 感測器配置
```javascript
// 感測器資料結構
const sensor = {
    id: "16A8067119",
    name: "溫度感測器",
    description: "前溫度",  // 主要顯示名稱
    type: "temperature",
    status: "online",
    lastValue: {
        currentValues: [
            { value: 25.5, unit: "°C" }
        ]
    }
};
```

### 2. 顯示優先順序
1. **第一優先**: `sensor.description` - 感測器描述
2. **第二優先**: `sensor.name` - 感測器類型名稱

### 3. 狀態判斷
- **在線**: `sensor.lastValue.currentValues` 存在
- **離線**: `sensor.lastValue.currentValues` 不存在

## 預期效果

1. **視覺統一**: 場域佈局圖與 dashboard 的感測器顯示完全一致
2. **資訊完整**: 優先顯示 description，提供更清晰的感測器識別
3. **狀態清晰**: 在線/離線狀態一目了然
4. **互動流暢**: 拖動、懸停等操作更加順暢

## 注意事項

1. **向後相容**: 保留舊版 `sensor-display` 樣式
2. **資料結構**: 需要 `description` 欄位支援
3. **樣式依賴**: 依賴 CSS 中的 `sensor-card` 樣式
4. **響應式設計**: 支援不同螢幕尺寸

## 未來改進

1. **自定義主題**: 支援不同顏色主題
2. **動態樣式**: 根據感測器類型動態調整樣式
3. **更多狀態**: 支援警告、錯誤等更多狀態
4. **互動增強**: 點擊顯示詳細資訊
